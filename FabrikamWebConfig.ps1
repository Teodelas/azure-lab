Configuration FabrikamWebConfig
{
  param ($MachineName)

  Node $MachineName
  {
    WindowsFeature IIS
    {
      Ensure = “Present”
      Name = “Web-Server”
    }
	
	File HomePage 
	{
		DestinationPath = 'C:\inetpub\wwwroot\index.html'
		Ensure = "Present"
		Contents = '<!DOCTYPE html><html lang="en"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <title>Admin - Home</title> <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet"> <link href="//maxcdn.bootstrapcdn.com/bootswatch/3.3.5/darkly/bootstrap.min.css" rel="stylesheet"> <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet"> <style type="text/css"> canvas.chartjs{width: 100% !important;}</style> </head> <body> <ul class="breadcrumb"> <li class="active" href="#">Home</li></ul> <div class="container-fluid"> <div class="row"> <div class="col-sm-3 col-md-2"> <ul class="nav nav-pills nav-stacked"> <li class="active"> <a href="/index.html"> <i class="fa fa-home"></i>&nbsp;Home </a> </li><li> <a href="/tickets.html"> <i class="fa fa-tachometer"></i>&nbsp;Tickets<span class="pull-right badge">~&nbsp;5</span> </a> </li></ul> </div><div class="col-sm-9 col-md-10"> <h1>Fabrikam Video Service</h1> <div class="alert alert-dismissible alert-warning"> <button class="close" type="button" data-dismiss="alert">×</button> <h4>Warning!</h4> <p> A larger than average number of customers have reported issues within the last 24 hours. Please view issues on the <a class="alert-link" href="/tickets.html">Ticket Portal</a>. </p></div><h3>Analytics Highlights</h3> <div class="row"> <div class="col-sm-6 col-md-4"> <div class="panel panel-primary"> <div class="panel-heading"> <h3 class="panel-title"><i class="fa fa-users"></i>&nbsp;&nbsp;Online Users by Browser</h3> </div><div class="panel-body"> <canvas id="piechart" class="chartjs"></canvas> </div></div></div><div class="col-sm-6 col-md-4"> <div class="panel panel-primary"> <div class="panel-heading"> <h3 class="panel-title"><i class="fa fa-graduation-cap"></i>&nbsp;&nbsp;Popular Courses (<span id="monthEntry"></span>)</h3> </div><div class="panel-body"> <canvas id="barchart" class="chartjs" ></canvas> </div></div></div><div class="col-sm-6 col-md-4"> <div class="panel panel-primary"> <div class="panel-heading"> <h3 class="panel-title"><i class="fa fa-tablet"></i>&nbsp;&nbsp;Consecutive Viewers by Hour</h3> </div><div class="panel-body"> <canvas id="linechart" class="chartjs" ></canvas> </div></div></div></div></div></div></div><script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script> <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script> <script src="//cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.min.js"></script> <script src="/aiconfig.js"></script> <script type="text/javascript">Chart.defaults.global.responsive = true;Chart.defaults.global.animation = false;Chart.defaults.global.maintainAspectRatio = true;$(document).ready(function (){$("span#monthEntry").html(["January","February","March","April","May","June","July","August","September","October","November","December"][new Date().getMonth()]); var date=new Date,hourLabels=[];hourLabels.push(date.getHours()+":00"),date.setHours(date.getHours()-3),hourLabels.push(date.getHours()+":00"),date.setHours(date.getHours()-3),hourLabels.push(date.getHours()+":00"),date.setHours(date.getHours()-3),hourLabels.push(date.getHours()+":00"),date.setHours(date.getHours()-3),hourLabels.push(date.getHours()+":00"),date.setHours(date.getHours()-3),hourLabels.push(date.getHours()+":00"),date.setHours(date.getHours()-3),hourLabels.push(date.getHours()+":00"),hourLabels.reverse(); new Chart($("canvas.chartjs#piechart").get(0).getContext("2d")).Doughnut([{value:0.52,color:"#F7464A",highlight:"#FF5A5E",label:"Internet Explorer"},{value:0.29,color:"#46BFBD",highlight:"#5AD3D1",label:"Google Chrome"},{value:0.19,color:"#FDB45C",highlight:"#FFC870",label:"Mozilla Firefox"}],{}); new Chart($("canvas.chartjs#barchart").get(0).getContext("2d")).Bar({labels:["C#","Ruby","F#","JS"],datasets:[{fillColor:"rgba(220,220,220,0.5)",strokeColor:"rgba(220,220,220,0.8)",highlightFill:"rgba(220,220,220,0.75)",highlightStroke:"rgba(220,220,220,1)",data:[48000,26000,80500,65000]}]},{}); new Chart($("canvas.chartjs#linechart").get(0).getContext("2d")).Line({labels:hourLabels,datasets:[{fillColor:"rgba(151,187,205,0.2)",strokeColor:"rgba(151,187,205,1)",pointColor:"rgba(151,187,205,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(151,187,205,1)",data:[280,380,600,1900,1586,1227,905]}]},{});}); </script> </body></html>'
	}

	File TicketsPage
	{
		DestinationPath = 'C:\inetpub\wwwroot\tickets.html'
		Ensure = "Present"
		Contents = '<!DOCTYPE html><html lang="en"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <title>Admin - Dashboard</title> <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet"> <link href="//maxcdn.bootstrapcdn.com/bootswatch/3.3.5/darkly/bootstrap.min.css" rel="stylesheet"> <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet"> <style type="text/css"> canvas.chartjs{width: 100% !important;}</style> </head> <body> <ul class="breadcrumb"> <li><a href="/index.html">Home</a></li><li class="active" href="#">Tickets</li></ul> <div class="container-fluid"> <div class="row"> <div class="col-sm-3 col-md-2"> <ul class="nav nav-pills nav-stacked"> <li> <a href="/index.html"> <i class="fa fa-home"></i>&nbsp;Home </a> </li><li class="active"> <a href="/tickets.html"> <i class="fa fa-tachometer"></i>&nbsp;Tickets<span class="pull-right badge">~&nbsp;5</span> </a> </li></ul> </div><div class="col-sm-9 col-md-10"> <h1>Tickets Dashboard</h1> <a id="refreshButton" class="btn btn-primary btn-sm pull-right" href="#"> <i class="fa fa-refresh"></i>&nbsp;Refresh </a> <i id="loadingIndicator" style="display: none; position: absolute;" class="fa fa-refresh fa-spin fa-5x"></></i> <table id="customersTable" class="table table-striped table-condensed"> <thead> <tr> <th>Customer #</th> <th>Name</th> <th>Issue</th> <th>E-mail Address</th> <th>Subscription Type</th> </tr></thead> <tbody> </tbody></table> </div></div></div><script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script> <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script> <script src="/aiconfig.js"></script> <script src="/aievent.js"></script> <script type="text/javascript">$(document).ready(function (){var customers=[{"Id":1,"Name":"Orlando Gee","EmailAddress":"orlando0@adventure-works.com","SubscriptionType":"Enterprise"},{"Id":2,"Name":"Keith Harris","EmailAddress":"keith0@adventure-works.com","SubscriptionType":"Complimentary"},{"Id":3,"Name":"Donna Carreras","EmailAddress":"donna0@adventure-works.com","SubscriptionType":"Retail"},{"Id":4,"Name":"Janet Gates","EmailAddress":"janet1@adventure-works.com","SubscriptionType":"Enterprise"},{"Id":5,"Name":"Lucy Harrington","EmailAddress":"lucy0@adventure-works.com","SubscriptionType":"Complimentary"},{"Id":6,"Name":"Rosmarie Carroll","EmailAddress":"rosmarie0@adventure-works.com","SubscriptionType":"Retail"},{"Id":7,"Name":"Dominic Gash","EmailAddress":"dominic0@adventure-works.com","SubscriptionType":"Enterprise"},{"Id":10,"Name":"Kathleen Garza","EmailAddress":"kathleen0@adventure-works.com","SubscriptionType":"Enterprise"},{"Id":11,"Name":"Katherine Harding","EmailAddress":"katherine0@adventure-works.com","SubscriptionType":"Complimentary"}]; function addRandomCustomer(isNew){var customer=customers[Math.floor(Math.random()*customers.length)];var issue="Your site is broken!";var row=$("<tr>");if(isNew){row.addClass("success");}row.append($("<td>").text(customer.Id)).append($("<td>").text(customer.Name)).append($("<td>").text(issue)).append($("<td>").text(customer.EmailAddress)).append($("<td>").text(customer.SubscriptionType));$("table#customersTable tbody").append(row);}for (i=1; i <=6; i++){addRandomCustomer(false);}$("a#refreshButton").click(function(){$("table#customersTable > tbody > tr").removeClass("success"),$("i#loadingIndicator").fadeIn(),$("table#customersTable").fadeTo(500,.25,function(){setTimeout(function(){"function"==typeof createCustomEvent&&createCustomEvent();addRandomCustomer(!0);$("i#loadingIndicator").fadeOut(),$("table#customersTable").fadeTo(500,1)},1e3)})});}); </script> </body></html>'
	}
  }
} 
